<!DOCTYPE html>
<html lang="es-MX">

<head>
    <title>Corredores Inmobiliarios</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="lang" content="es-MX">
    <meta name="resource-type" content="document">
    <meta name="global" content="distribution">
    <meta name="robots" content="index, follow">
    <meta name="author" content="BBVA">
    <link rel="icon" type="image/png" href="images/favicon/16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicon/96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicon/192x192.png" sizes="92x92" />
    <link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/bbva.fonts.css">
    <link rel="stylesheet" href="./css/bbva.publish.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="js/jquery3.3.1.min.js"></script>
</head>
<body>
    <header class="header__base wrapper">
        <nav class="header__container background--navy" data-component="header">
            <div class="header__main container" style="align-items: baseline; display: flex;">
                <div class="header__wrapper">
                    <div class="header__logo">
                        <div class="header__logo__link">
                            <img src="images/logo/logo-bbva-bancomer-v1.svg"  class="header__image header__logo__link">
                        </div>
                    </div>
                    <div class="header__mainNavigation" >
                        <nav class="mainNavigation__base" >
                            <ul class="mainNavigation__list">
                                <li class="mainNavigation__item mainNavigation__item--active">
                                    <span class="mainNavigation__link __appTitle d-flex-bbva align-items-center-bbva">Corredores Inmobiliarios</span>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="general-wrapper">
        <header class="header__base wrapper">
            <nav class="header__container background--navy" data-component="header">
                <div class="header__main container" style="align-items: baseline; display: flex;">
                    <div class="header__wrapper">
                        <div class="header__logo">
                            <div class="header__logo__link">
                                <img src="images/logo/logo-bbva-bancomer-v1.svg"  class="header__image header__logo__link">
                            </div>
                        </div>
                        <div class="header__mainNavigation" >
                            <nav class="mainNavigation__base" >
                                <ul class="mainNavigation__list">
                                    <li class="mainNavigation__item mainNavigation__item--active">
                                        <span class="mainNavigation__link __appTitle d-flex-bbva align-items-center-bbva">Corredores Inmobiliarios</span>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <main class="bbva--main wrapper" id="main">
            <section>
                <div class="loginsec">
                    <div class="containerLogin">
                        <h4>¡Bienvenido!</h4>
                        <div class="">
                            <form name="form" action="#" class="form-gray" method="post" target="_top" id="formarea">
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="numref" id="numref" maxlength="11" type="text" data-placeholder="Número de referencia" onkeyup="this.value=this.value.toUpperCase()" required autocomplete="off">
                                    </div>
                                </div>
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="username" id="username" maxlength="11" type="text" data-placeholder="Usuario" onkeyup="this.value=this.value.toUpperCase()" required autocomplete="off">
                                    </div>
                                </div>
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="password" type="password" id="password" maxlength="10" data-placeholder="Contraseña" required autocomplete="off">
                                    </div>
                                    <div class="form-group-info" style="display:none;">
                                        <div class="isec">
                                            <img class="bbva-icon" src="" alt="alert-icon" style="display: none; margin: auto;">
                                        </div>
                                        <div class="itextsec"></div>
                                    </div>
                                </div>
                                <div class="actionsection">
                                    <div class="fpass">
                                        <a id="forgotpass" href="rec_cont.html">¿Olvidaste tu contrase&ntilde;a?</a>
                                    </div>
                                    <div class="submtbtn">
                                        <a href="#" target="_blank"  title="Continuar" aria-label="Continuar" class="btn__basic btn__disabled">
                                            <span aria-hidden="true">Continuar</span>
                                        </a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div class="bbva--footer wrapper">
            <footer>
                <div>
                    <div>
                        <div class="footer__base">
                            <div class="container">
                                <session class="footer__container">
                                    <div class="footer__logo__link">
                                        <!-- title has to be given by the dialog -->
                                        <img src="images/logo/logo-bbva-bancomer-footer-negativo.svg" class="footer__logo " >
                                    </div>
                                    <p class="footer__copyright">© 2018 BBVA Bancomer, S. A., Institución de Banca Múltiple, Grupo Financiero BBVA Bancomer.</p>
                                </session>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="./js/bbva.publish.js"></script>
    <script src="js/bundle.js"></script>
    <script>
        $(function(){
            $("a.btn__disabled").click(function(event) {
                event.preventDefault();
            });

            function checkInputs() {
                if ($("#numref").val() != "" && $("#username").val() != "" && $("#password").val() != ""){
                    $("a[title='Continuar']").addClass("btn__medium-blue");
                    $("a[title='Continuar']").removeClass("btn__disabled");
                } else {
                    removeInputError($("input"), "keyup");
                    $("a[title='Continuar']").addClass("btn__disabled");
                    $("a[title='Continuar']").removeClass("btn__medium-blue");
                    count = 0;
                }
            }
            $("#numref, #username, #password").keyup(checkInputs);
            var count = 0;
            $("a[title='Continuar']").click(function(event) {
                event.preventDefault();
                if ($(this).hasClass("btn__disabled")) return;
                var user = "PRUEBA";
                var pass = "prueba";
                if ($("#username").val() == user && $("#password").val() == pass) {
                    window.location.href = 'tabla.html';
                }else{
                    count++;
                    var mensaje = "Uno o más de los datos son incorrectos: ingrésalos de nuevo";
                    if (count == 4) {
                        mensaje = "Tienes 1 intento más para ingresar los datos de manera correcta. De lo contrario, tu cuenta quedará bloqueada.";
                    }
                    if (count >= 5) {
                        mensaje = "Superaste el limite de intentos, contacta al administrador";
                    }
                    $(".form-validation-group .form-group-info").css('display','block');
                    showInputError($("input"), mensaje, {
                        "eventx": "keyup",
                        "validation": function() {
                            return $("#username").val() == user;
                        }
                    });
                    return;
                }
            });
            //error input
            function removeInputError(error_iDom, errorEvent) {
                e_in_parent = error_iDom.closest(".form-validation-group");
                e_in_parent.removeClass("haserror");
                e_i_text = e_in_parent.find(".itextsec");
                e_i_text.text("");

                e_icon_i = e_in_parent.find(".isec img.bbva-icon");
                e_icon_i.css('display', 'none');
                /*e_icon_i.attr("class", e_icon_i.attr("data-oldclasses"));*/

                error_iDom.off(errorEvent, validateError);
            }

            function validateError(_vundoError, _iDom) {
                if (_vundoError.validation()) {
                    removeInputError(_iDom, _vundoError.event);
                }
            }
            function showInputError(i_nputDOM, _textMessage, _undoError) {
                in_parent = i_nputDOM.closest(".form-validation-group");
                in_parent.addClass("haserror");
                i_text = in_parent.find(".itextsec")
                i_text.attr("data-oldtext", i_text.text());
                i_text.text(_textMessage);
                icon_i = in_parent.find(".isec img.bbva-icon");
                /*icon_i.attr("data-oldclasses", icon_i.attr("class", ));*/
                icon_i.show();
                icon_i.attr("src", "images/icons/alert-icon.png");
                i_nputDOM.on(_undoError.event, validateError(_undoError, i_nputDOM));
            }  
        });
    </script>
</body>

</html>