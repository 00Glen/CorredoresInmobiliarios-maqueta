<!DOCTYPE html>
<html lang="es-MX">

<head>
    <title>Corredores Inmobiliarios</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="lang" content="es-MX">
    <meta name="resource-type" content="document">
    <meta name="global" content="distribution">
    <meta name="robots" content="index, follow">
    <meta name="author" content="BBVA">
    <link rel="icon" type="image/png" href="images/favicon/16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicon/96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicon/192x192.png" sizes="92x92" />
    <link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon" />
    
    
    <link rel="stylesheet" href="css/bbva.fonts.css">
    <link rel="stylesheet" href="css/bbva.publish.css">
    <link rel="stylesheet" href="css/bundleRecover.css">
    <script src="js/jquery3.3.1.min.js"></script>
    <script>
        document.oncontextmenu = new Function("return false");

        var strError="%ERROR%";
        var strCode = "";
        var strTextError = "";
    </script>
    <script>
        function redirectToForgotMyPassword() {
            var servOrigin = window.location.origin;
            if (servOrigin.indexOf("150.250.238.172") != -1) { //Desarrollo
                window.location = servOrigin + "/muhhpub_des_mx_web/muhh_mult_web_realestatebrokersfront_01/realestatebrokersfront/recoverpassword/index.jsp";
            } else if (servOrigin.indexOf("150.250.238.173") != -1) { //Test
                window.location = servOrigin + "/muhhpub_test_mx_web/muhh_mult_web_realestatebrokersfront_01/realestatebrokersfront/recoverpassword/index.jsp";
            } else if (servOrigin.indexOf("calplataformabecas.fundacionbbvabancomer.com.mx") != -1) { //calidad
                window.location = servOrigin + "/muhhpub_qa_mx_web/muhh_mult_web_realestatebrokersfront_01/realestatebrokersfront/recoverpassword/index.jsp";
            } else if (servOrigin.indexOf("plataformabecaslo.fundacionbbvabancomer.org") != -1) { //liga oculta
                window.location = servOrigin + "/muhhpub_lo_mx_web/muhh_mult_web_realestatebrokersfront_01/realestatebrokersfront/recoverpassword/index.jsp";
            } else if (servOrigin.indexOf("plataformabecas.fundacionbbvabancomer.org") != -1) { //Prod
                window.location = servOrigin + "/muhhpub_pr_mx_web/muhh_mult_web_realestatebrokersfront_01/realestatebrokersfront/recoverpassword/index.jsp";
            }
        }
    </script>

</head>

<body>
    <div class="general-wrapper">
        <header class="header__base wrapper">
            <nav class="header__container background--navy" data-component="header">
                <div class="header__main container" style="align-items: baseline; display: flex;">
                    <div class="header__wrapper">
                        <div class="header__logo">
                            <div class="header__logo__link">
                                <img src="images/logo/LogoBBVA@2x.png"  class="header__image header__logo__link">
                            </div>
                        </div>
                        <div class="header__mainNavigation" >
                            <nav class="mainNavigation__base" >
                                <ul class="mainNavigation__list">
                                    <li class="mainNavigation__item mainNavigation__item--active">
                                        <span class="mainNavigation__link __appTitle d-flex-bbva align-items-center-bbva">Corredores Inmobiliarios</span>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <main class="bbva--main wrapper" id="main">
            <section>
                <div class="loginsec">
                    <div class="containerLogin">
                        <h4>¡Bienvenido!</h4>
                        <div class="">
                            <form action="/pkmslogin.form" class="form-gray" method="post" target="_top" id="formarea">
                                <input type="hidden" name="username" value="" />
                                <input type="hidden" name="acceso" value="" />
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="TXaccess" id="TXaccess" maxlength="13" type="text" data-placeholder="Número de referencia" onkeyup="this.value=this.value.toUpperCase()" required autocomplete="off">
                                    </div>
                                </div>
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="TXusername" id="TXusername" maxlength="8" type="text" data-placeholder="Usuario" onkeyup="this.value=this.value.toUpperCase()" required autocomplete="off">
                                    </div>
                                </div>
                                <div class="form-validation-group">
                                    <div class="form-group">
                                        <input class="form-control fixW95" name="password" type="password" id="password" maxlength="10" data-placeholder="Contraseña" required autocomplete="off">
                                    </div>
                                    <div class="form-group-info" style="display:none;">
                                        <div class="isec">
                                            <img class="bbva-icon" src="" alt="alert-icon" style="display: none; margin: auto;">
                                        </div>
                                        <div class="itextsec"></div>
                                    </div>
                                </div>
                                <div class="actionsection">
                                    <div class="fpass">
                                        <a id="forgotpass" href="rec_cont.html">¿Olvidaste tu contrase&ntilde;a?</a>
                                    </div>
                                    <div class="submtbtn">
                                        <a href="#" target="_blank" rel="noopener noreferrer" title="Continuar" aria-label="Continuar" class="btn__basic btn__disabled">
                                            <span aria-hidden="true">Continuar</span>
                                        </a>
                                    </div>
                                </div>
                                <input type="hidden" name="login-form-type" value="pwd"/>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div class="bbva--footer wrapper">
            <footer role="contentinfo" aria-label="Pie de página">
                <div>
                    <div>
                        <div class="footer__base" data-dl-component="" data-dl-component-name="footer" data-dl-component-type="bbva/pwebs/components/par/footer" data-dl-component-id="content_bancomer_es_personas_productos_seguros_seguro-de-vida_jcr:content_footer">
                            <div class="container">
                                <session class="footer__container">
                                    <div class="footer__logo__link">
                                        <!-- title has to be given by the dialog -->
                                        <img src="images/logo/LogoBBVAOportunidades@2x.png" class="footer__logo">
                                    </div>
                                    <p class="footer__copyright" itemprop="name">© 2018 BBVA Bancomer, S. A., Institución de Banca Múltiple, Grupo Financiero BBVA Bancomer.</p>
                                </session>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="js/bbva.publish.js"></script>
    <script src="js/bundle.js"></script>
    <script>
        $(function(){
            if (strError.trim() != "") {
                strCode = strError.substring(0, 10);
            if (strCode == "HPDIA0200W") {
                strTextError = "El usuario y/o contrase" + String.fromCharCode(241) + " son incorrectos, inténtalo otra vez.";
            } else if (strCode == "HPDIA0202W") {
                strTextError = "El usuario proporcionado es incorrecto.";
            } else if (strCode == "HPDIA0203W") {
                strTextError = "El usuario ha realizado demasiados intentos fallidos de autenticaci" + String.fromCharCode(243) + "n.";
            } else if (strCode == "HPDIA0204W") {
                strTextError = "La contrase" + String.fromCharCode(241) + "a ha expirado.";
            } else if (strCode == "HPDIA0205W") {
                strTextError = "La cuenta del usuario ha expirado.";
            } else if (strCode == "HPDIA0206W") {
                strTextError = "Autenticaci" + String.fromCharCode(243) + "n rechazada por violaci" + String.fromCharCode(243) + "n de politicas.";
            } else if (strCode == "HPDIA0208W") {
                strTextError = "La cuenta del usuario ha sido deshabilitada.";
            } else if (strCode == "HPDIA0202W") {
                strTextError = "El usuario proporcionado es incorrecto.";
            } else if (strCode == "HPDIA0211W") {
                strTextError = "No se ha podido autenticar un certificado de cliente.";
            } else if (strCode == "HPDIA0217W") {
                strTextError = "Autenticaci" + String.fromCharCode(243) + "n fallida por restricci" + String.fromCharCode(243) + "n de horario.";
            } else if (strCode == "HPDIA0233W") {
                strTextError = "Autenticaci" + String.fromCharCode(243) + "n fallida, la cuenta ha sido bloqueada temporalmente debido a tantos intentos.";
            } else if (strCode == "HPDIA0234W") {
                strTextError = "Autenticaci" + String.fromCharCode(243) + "n fallida la cuenta ha sido deshabilitada debido a tantos intentos.";
            } else if (strCode == "HPDIA0309W") {
                strTextError = "La cuenta del usuario ha sido deshabilitada.";
            } else if (strCode == "HPDMG0773E") {
                strTextError = "LDAP esta inactivo.";
            } else if (strCode == "HPDMG0776E") {
                strTextError = "Ha ocurrido un error de comunicaci" + String.fromCharCode(243) + "n con LDAP.";
            } else if (strCode == "HPDIA0119W") {
                strTextError = "Ha ocurrido un error de comunicaci" + String.fromCharCode(243) + "n con LDAP.";
            } else if (strCode == "HPDIA0100E") {
                strTextError = "Ha ocurrido un error de comunicaci" + String.fromCharCode(243) + "n con LDAP.";
            } else if (strCode == "HPDIA0224W") {
                strTextError = "La contrase" + String.fromCharCode(241) + "a ha expirado.";
            } else {
                strTextError = strError;
            }
                showInputError($("input"), strTextError, {
                    "eventx": "load",
                    "validation": function() {
                        return true;
                    }
                });
            } else {
                removeInputError($("input"), "load");
            }

            $('a#forgotpass').click(function(e) {
                e.preventDefault();
                /*redirectToForgotMyPassword();*/
                return false;
            });
            $("a.btn__disabled").click(function(event) {
                event.preventDefault();
            });
            function validaCampos() {
                var refer = document.forms[0].TXaccess.value;
                var usuario = document.forms[0].TXusername.value;
                var clave = document.forms[0].password.value;
                
                if(refer== "" || refer.length != 13){
                    $(".form-validation-group .form-group-info").css('display','block');
                    strTextError = 'Please enter a Reference Number / Por favor, ingrese un n\u00FAmero de referencia';
                    showInputError($("input"), strTextError, {
                        "eventx": "click",
                        "validation": function() {
                            return false;
                        }
                    });
                }
                else if(usuario== ""  || usuario.length != 8){
                    $(".form-validation-group .form-group-info").css('display','block');
                    strTextError = 'Please enter a username / Por favor, ingrese un nombre de usuario';
                    showInputError($("input"), strTextError, {
                        "eventx": "click",
                        "validation": function() {
                            return false;
                        }
                    });
                }
                else if(clave== "" || (clave.length != 8 && clave.length != 10)){
                    $(".form-validation-group .form-group-info").css('display','block');
                    strTextError = 'Please enter a password / Por favor, ingrese una contrase\u00F1a';
                    showInputError($("input"), strTextError, {
                        "eventx": "click",
                        "validation": function() {
                            return false;
                        }
                    });
                }
                else{
                    document.forms[0].username.value = refer + usuario;
                    document.forms[0].submit();
                }
            }
            function checkInputs() {
                if ($("#TXaccess").val() != "" && $("#TXusername").val() != "" && $("#password").val() != ""){
                    $("a[title='Continuar']").addClass("btn__medium-blue");
                    $("a[title='Continuar']").removeClass("btn__disabled");
                } else {
                    removeInputError($("input"), "keyup");
                    $("a[title='Continuar']").addClass("btn__disabled");
                    $("a[title='Continuar']").removeClass("btn__medium-blue");
                }
            }

            $("#TXaccess, #TXusername, #password").keyup(checkInputs);

            $("a[title='Continuar']").click(function(event) {
                event.preventDefault();
                if ($(this).hasClass("btn__disabled")) return;
                validaCampos();
            });
            //error input
            function removeInputError(error_iDom, errorEvent) {
                e_in_parent = error_iDom.closest(".form-validation-group");
                e_in_parent.removeClass("haserror");
                e_i_text = e_in_parent.find(".itextsec");
                e_i_text.text("");

                e_icon_i = e_in_parent.find(".isec img.bbva-icon");
                e_icon_i.css('display', 'none');
                /*e_icon_i.attr("class", e_icon_i.attr("data-oldclasses"));*/

                error_iDom.off(errorEvent, validateError);
            }

            function validateError(_vundoError, _iDom) {
                if (_vundoError.validation()) {
                    removeInputError(_iDom, _vundoError.event);
                }
            }
            function showInputError(i_nputDOM, _textMessage, _undoError) {
                in_parent = i_nputDOM.closest(".form-validation-group");
                in_parent.addClass("haserror");
                i_text = in_parent.find(".itextsec")
                i_text.attr("data-oldtext", i_text.text());
                i_text.text(_textMessage);
                icon_i = in_parent.find(".isec img.bbva-icon");
                /*icon_i.attr("data-oldclasses", icon_i.attr("class", ));*/
                icon_i.show();
                icon_i.attr("src", "images/icons/alert-icon.png");
                i_nputDOM.on(_undoError.event, validateError(_undoError, i_nputDOM));
            }  
        });
    </script>
</body>

</html>